(this["webpackJsonptraditional-recipes"]=this["webpackJsonptraditional-recipes"]||[]).push([[0],{129:function(e,t,n){},130:function(e,t,n){},134:function(e,t,n){},145:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){"use strict";n.r(t);var r,i=n(0),a=n.n(i),s=n(44),c=n.n(s),u=(n(129),n(130),n(77)),o=n(15),l=n(3),p=n(4),h=n(10),d=n(9),g=n(190),f=n(68),m=n(200),j=n(46);!function(e){e.INITIALISE_COUNTRY_PAGE="initialise_country_page",e.SET_RECIPE_PREVIEWS="set_recipe_previews",e.LOAD_RECIPE="load_recipe",e.SET_RECIPE="set_recipe"}(r||(r={}));var b,v=function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,null,[{key:"initialiseCountryPage",value:function(e){return{type:r.INITIALISE_COUNTRY_PAGE,payload:e}}},{key:"setRecipePreviews",value:function(e){return{type:r.SET_RECIPE_PREVIEWS,payload:e}}},{key:"loadRecipe",value:function(e,t){return{type:r.LOAD_RECIPE,payload:{country:e,recipeId:t}}}},{key:"setRecipe",value:function(e){return{type:r.SET_RECIPE,payload:e}}}]),e}();!function(e){e.Kenya="kenya"}(b||(b={}));var O=function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,null,[{key:"isKnownCountry",value:function(e){var t=null===e||void 0===e?void 0:e.toLowerCase();return null!=t&&Object.values(b).some((function(e){return e===t}))}},{key:"getCountryNameFromProp",value:function(e){return e.match.params.country.toLowerCase()}},{key:"isKnownCountryInProp",value:function(t){var n=e.getCountryNameFromProp(t);return e.isKnownCountry(n)}}]),e}(),y=n(204),x=n(187),I=n(206),w=n(207),S=n(191),k=(n(134),function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,null,[{key:"getString",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return e.t(t,n)}},{key:"getStringOrPlaceholder",value:function(e,t,n){var r=e.t(t);return r&&r!==t?r:n}},{key:"getIngredientString",value:function(e,t){return this.getString(e,"ingredients:".concat(t))}},{key:"getHarmfulIngredientString",value:function(e,t){return this.getString(e,"harmful-ingredients:".concat(t))}},{key:"getHarmfulIngredientStringWithArgs",value:function(e,t,n){return this.getString(e,"harmful-ingredients:".concat(t),n)}},{key:"getRecipeString",value:function(e,t,n){return this.getString(e,"recipe-".concat(n,":").concat(t))}}]),e}()),C=n(2),P=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={isTranslationReady:!1},e.namespacePromise=null,e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.i18n.loadNamespaces("recipe-".concat(this.props.recipePreview.id),(function(){e.setState({isTranslationReady:!0})}))}},{key:"getLayoutColumnsForSize",value:function(e){switch(e){case"xsmall":case"small":return["full"];default:return["1/3","2/3"]}}},{key:"getLayoutRowsForSize",value:function(e){switch(e){case"xsmall":case"small":return["auto","auto"];default:return["auto"]}}},{key:"getLayoutGridAreasForSize",value:function(e){switch(e){case"xsmall":case"small":return[{name:"thumbnail",start:[0,0],end:[0,0]},{name:"content",start:[0,1],end:[0,1]}];default:return[{name:"thumbnail",start:[0,0],end:[0,0]},{name:"content",start:[1,0],end:[1,0]}]}}},{key:"render",value:function(){var e=this,t=this.props.recipePreview;return this.state.isTranslationReady?Object(C.jsx)(x.a,{animation:"fadeIn",className:"preview",height:"auto",width:"full",children:Object(C.jsx)(g.a.Consumer,{children:function(n){return Object(C.jsxs)(I.a,{columns:e.getLayoutColumnsForSize(n),rows:e.getLayoutRowsForSize(n),areas:e.getLayoutGridAreasForSize(n),children:[Object(C.jsx)(w.a,{className:"thumbnail",fit:"contain",src:t.images[0].url}),Object(C.jsxs)("div",{children:[Object(C.jsx)("h2",{className:"title",children:e.getLocaleStringOrPlaceholder("".concat(e.props.recipePreview.title))}),Object(C.jsx)("span",{className:"subtitle",children:e.getLocaleStringOrPlaceholder("".concat(e.props.recipePreview.subtitle))}),Object(C.jsx)(S.a,{className:"description",margin:{top:"3vh"},children:e.getEllipsizedDescription(e.props.recipePreview)})]})]})}})}):Object(C.jsx)(x.a,{animation:"fadeIn",className:"preview",height:"auto",width:"full"})}},{key:"getLocaleStringOrPlaceholder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"...";return this.state.isTranslationReady?k.getRecipeString(this.props,e,this.props.recipePreview.id):t}},{key:"getEllipsizedDescription",value:function(e){var t=this.getLocaleStringOrPlaceholder(e.description);return t.length>80?"".concat(t.slice(0,80),"..."):t}}]),n}(a.a.PureComponent),R=Object(y.a)()(P),E=(n(145),{initialiseCountryPage:v.initialiseCountryPage}),N=Object(j.b)((function(e){return{recipePreviews:e.recipe.recipePreviews}}),E)(function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this.getCountryName();O.isKnownCountry(e)&&this.props.initialiseCountryPage(e)}},{key:"render",value:function(){return O.isKnownCountryInProp(this.props)?Object(C.jsxs)("div",{children:[Object(C.jsx)("h1",{children:O.getCountryNameFromProp(this.props).toLocaleUpperCase()}),this.showRecipePreviews()]}):Object(C.jsx)(o.a,{to:"/kenya"})}},{key:"getListVerticalPaddingForScreenSize",value:function(e){switch(e){case"xsmall":case"small":return"xlarge";default:return"large"}}},{key:"getCountryName",value:function(){return O.getCountryNameFromProp(this.props)}},{key:"onRecipePreviewClick",value:function(e){e&&this.props.history.push("".concat(this.getCountryName(),"/").concat(e.id))}},{key:"showRecipePreviews",value:function(){var e=this;if(this.props.recipePreviews.length>0){var t=Array(10).fill(this.props.recipePreviews[0]);return Object(C.jsx)(g.a.Consumer,{children:function(n){return Object(C.jsx)(f.a,{className:"recipe-previews",children:Object(C.jsx)(m.a,{onClickItem:function(t){return e.onRecipePreviewClick(t.item)},pad:{vertical:e.getListVerticalPaddingForScreenSize(n)},data:t,primaryKey:"id",children:function(e,t){return Object(C.jsx)(R,{recipePreview:e})}})})}})}}}]),n}(a.a.PureComponent)),_=n(194),z=n(16),F=n.n(z),T=n(31),L=n(30),A=n(116),H=n.n(A),B={kenya:["ugali/ugali.json"]},D=function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,null,[{key:"getRecipePreviewsForCountry",value:function(e){var t=this;return Promise.all(B[e].map((function(n){return t.getJSONByLocalPath("recipes/".concat(e,"/").concat(n))})))}},{key:"fetchRecipe",value:function(){var e=Object(L.a)(F.a.mark((function e(t,n){var r,i,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getJSONByLocalPath("/recipes/".concat(t,"/").concat(n,"/").concat(n,".json"));case 2:return r=e.sent,e.next=5,this.fetchIngredients(r);case 5:return i=e.sent,e.next=8,this.fetchHarmfulIngredients(r);case 8:return a=e.sent,e.abrupt("return",Promise.resolve(Object(T.a)(Object(T.a)({},r),{},{ingredients:i,harmfulIngredients:a})));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getIngredientIdFromStringOrThrow",value:function(e){var t=e.match(this.INGREDIENT_ID_REGEX);if(!t)throw Error("Ingredient string ".concat(e," did not contain any ingredient names"));if(2!==t.length)throw Error("Unexpected number of ingredient name matches for string ".concat(e,". Found ").concat(t.length," matches"));return t[1]}},{key:"hasRecipe",value:function(e,t){return B[e].includes("".concat(t,"/").concat(t,".json"))}},{key:"fetchIngredients",value:function(){var t=Object(L.a)(F.a.mark((function t(n){var r=this;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(n.ingredients.map(function(){var t=Object(L.a)(F.a.mark((function t(n){var i,a,s;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.getIngredientIdFromStringOrThrow(n.ingredient),t.next=3,r.getJSONByLocalPath("/ingredients/".concat(i,"/").concat(i,".json"));case 3:return a=t.sent,s={ingredient:a,quantity:n.quantity,note:n.note},t.abrupt("return",Promise.resolve(s));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchHarmfulIngredients",value:function(){var t=Object(L.a)(F.a.mark((function t(n){var r=this;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(n.harmfulIngredients.map(function(){var t=Object(L.a)(F.a.mark((function t(n){var i,a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.getHarmfulIngredientIdFromStringOrThrow(n),t.next=3,r.getJSONByLocalPath("/harmful-ingredients/".concat(i,"/").concat(i,".json"));case 3:return a=t.sent,t.abrupt("return",Promise.resolve(a));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getHarmfulIngredientIdFromStringOrThrow",value:function(e){var t=e.match(this.HARMFUL_INGREDIENT_ID_REGEX);if(!t)throw Error("Harmful ingredient string ".concat(e," did not contain any ingredient names"));if(2!==t.length)throw Error("Unexpected number of harmful ingredient name matches for string ".concat(e,". Found ").concat(t.length," matches"));return t[1]}},{key:"getJSONByLocalPath",value:function(){var e=Object(L.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.a.get(t);case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n.data));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();D.INGREDIENT_ID_REGEX=/{{ingredient_([a-z_]*)}}/,D.HARMFUL_INGREDIENT_ID_REGEX=/{{harmful_ingredient_([a-z_]*)}}/;n(165);var G=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"getString",value:function(e){return k.getHarmfulIngredientString(this.props,e)}},{key:"showCitations",value:function(){return this.props.effect.citations.map((function(e,t){return e.link?Object(C.jsx)("span",{className:"citation",children:Object(C.jsx)("a",{href:e.link,target:"_blank",rel:"noreferrer",children:e.authors})},t):Object(C.jsx)("span",{className:"citation",children:e.authors},t)}))}},{key:"render",value:function(){var e=this.props.effect;return Object(C.jsxs)(f.a,{children:[Object(C.jsx)("h4",{className:"title",children:this.getString(e.name)}),Object(C.jsx)("span",{className:"description",children:this.getString(e.description)}),Object(C.jsx)(f.a,{pad:{top:"small"},children:this.showCitations()})]})}}]),n}(a.a.PureComponent),U=Object(y.a)(["harmful-ingredients"])(G),M=(n(166),function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,null,[{key:"getRandomElement",value:function(e){return e[Math.floor(Math.random()*e.length)]}}]),e}()),K=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"getColumnsForSize",value:function(){switch(this.props.size){case"xsmall":case"small":return["full"];default:return["1/3","1/3","1/3"]}}},{key:"getRowsForSize",value:function(){switch(this.props.size){case"xsmall":case"small":return["auto","auto","auto"];default:return["auto"]}}},{key:"getGapBySize",value:function(){switch(this.props.size){case"xsmall":case"small":return"none";default:return"large"}}},{key:"getString",value:function(e,t){return this.props.t(e,t)}},{key:"getHarmfulIngredientName",value:function(){return k.getHarmfulIngredientString(this.props,this.props.harmfulIngredient.name).toLowerCase()}},{key:"getHarmfulIngredientIntro",value:function(){var e="recipe_page_harmful_ingredient_intro".concat(M.getRandomElement([1,2,3]));return this.getString(e,{harmfulIngredientName:this.getHarmfulIngredientName()})}},{key:"showKnownEffects",value:function(){return this.props.harmfulIngredient.knownEffects.map((function(e,t){return Object(C.jsx)(U,{effect:e},t)}))}},{key:"getEUBanMessage",value:function(){return k.getHarmfulIngredientStringWithArgs(this.props,"harmful_ingredient_eu_not_approved_message",{harmfulIngredientName:this.getHarmfulIngredientName()})}},{key:"getEUBanTitle",value:function(){return k.getHarmfulIngredientString(this.props,"harmful_ingredient_eu_not_approved_title")}},{key:"getEUColumnsForSize",value:function(){switch(this.props.size){case"xsmall":case"small":return["full"];default:return["auto","flex"]}}},{key:"showEUBan",value:function(){if(this.props.harmfulIngredient.isBannedInEU)return Object(C.jsxs)(I.a,{columns:this.getEUColumnsForSize(),pad:{vertical:"2rem"},gap:"medium",children:[Object(C.jsx)(w.a,{style:{maxWidth:"10rem"},fit:"contain",src:"/harmful-ingredients/images/eu-ban.svg"}),Object(C.jsxs)(f.a,{children:[Object(C.jsx)("h3",{className:"eu-ban-title",children:this.getEUBanTitle()}),Object(C.jsx)("span",{className:"description max-width-90",children:this.getEUBanMessage()})]})]})}},{key:"getEffectHeading",value:function(){return k.getHarmfulIngredientStringWithArgs(this.props,"harmful_ingredient_effects_heading",{harmfulIngredientName:this.getHarmfulIngredientName()})}},{key:"render",value:function(){return Object(C.jsxs)(f.a,{className:"harmful-ingredient-detail",children:[Object(C.jsx)("h2",{className:"title",children:this.getHarmfulIngredientIntro()}),Object(C.jsx)("span",{className:"description",children:k.getHarmfulIngredientString(this.props,this.props.harmfulIngredient.description)}),this.showEUBan(),Object(C.jsx)("h3",{className:"title",children:this.getEffectHeading()}),Object(C.jsx)(I.a,{rows:this.getRowsForSize(),columns:this.getColumnsForSize(),gap:this.getGapBySize(),children:this.showKnownEffects()})]})}}]),n}(a.a.PureComponent),J=Object(y.a)(["recipe-page"])(K),W=(n(167),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return Object(C.jsx)(f.a,{pad:this.props.pad,children:Object(C.jsx)("div",{className:"separator",style:{height:this.props.thickness||"1px"}})})}}]),n}(a.a.PureComponent)),V=(n(168),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"getBannerColumnsForSize",value:function(){switch(this.props.size){case"xsmall":case"small":return["full"];default:return["1/2","1/2"]}}},{key:"getBannerRowsForSize",value:function(){switch(this.props.size){case"xsmall":case"small":return["auto","auto"];default:return["auto"]}}},{key:"getBannerAreasForSize",value:function(){switch(this.props.size){case"xsmall":case"small":return[{name:"image",start:[0,0],end:[0,0]},{name:"intro",start:[0,1],end:[0,1]}];default:return[{name:"intro",start:[0,0],end:[0,0]},{name:"image",start:[1,0],end:[1,0]}]}}},{key:"getBannerAreaGapBySize",value:function(){switch(this.props.size){case"xsmall":case"small":return"none";default:return"large"}}},{key:"getRecipeString",value:function(e){return this.props.getRecipeString(e)}},{key:"getSubtitle",value:function(e){return e.subtitle?this.getRecipeString(e.subtitle):""}},{key:"render",value:function(){var e=this.props.recipe;return Object(C.jsx)(f.a,{className:"banner",background:"light-2",children:Object(C.jsxs)(I.a,{columns:this.getBannerColumnsForSize(),rows:this.getBannerRowsForSize(),areas:this.getBannerAreasForSize(),gap:this.getBannerAreaGapBySize(),children:[Object(C.jsxs)(f.a,{gridArea:"intro",className:"intro",children:[Object(C.jsx)("h1",{className:"title",children:this.getRecipeString(e.title)}),Object(C.jsx)("span",{className:"subtitle",children:this.getSubtitle(e)}),Object(C.jsx)(W,{pad:"medium"}),Object(C.jsx)("p",{className:"description max-width-90",children:this.getRecipeString(e.description)})]}),Object(C.jsx)(w.a,{gridArea:"image",className:"image",src:e.images[0].url,fit:"cover"})]})})}}]),n}(a.a.PureComponent)),X=(n(169),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return Object(C.jsx)(w.a,{fit:"contain",className:"ingredient-icon",src:this.props.url})}}]),n}(a.a.PureComponent)),q=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"getIngredientDetails",value:function(){return k.getHarmfulIngredientString(this.props,this.props.harmfulIngredient.name)}},{key:"getBarb",value:function(){if(this.props.harmfulIngredient.barbs.length>0){var e=M.getRandomElement(this.props.harmfulIngredient.barbs);return k.getHarmfulIngredientString(this.props,e)}return""}},{key:"render",value:function(){return Object(C.jsxs)(I.a,{columns:["1/4","3/4"],rows:"full",height:"xsmall",gap:"small",children:[Object(C.jsx)(f.a,{className:"ingredient-image-container",children:Object(C.jsx)(X,{url:this.props.harmfulIngredient.image.url})}),Object(C.jsxs)(f.a,{alignContent:"start",alignSelf:"center",children:[Object(C.jsx)("div",{className:"ingredient-title",children:this.getIngredientDetails()}),Object(C.jsx)("div",{className:"max-width-90 ingredient-barb",children:this.getBarb()})]})]})}}]),n}(a.a.PureComponent),Y=Object(y.a)(["harmful-ingredients"])(q),Q=(n(170),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"getIngredientDetails",value:function(){var e=this.props,t=e.recipeIngredient,n=e.recipeId,r=t.note,i=k.getIngredientString(this.props,t.ingredient.name),a=k.getRecipeString(this.props,t.quantity,n),s="".concat(i," - ").concat(a),c=null;return r&&(c=k.getRecipeString(this.props,r,n)),c?"".concat(s," (").concat(c,")"):s}},{key:"render",value:function(){var e=this.props.recipeIngredient.ingredient;return Object(C.jsxs)(I.a,{columns:["1/4","3/4"],rows:"full",height:"xsmall",gap:"small",pad:{bottom:"xsmall"},children:[Object(C.jsx)(f.a,{className:"ingredient-image-container",children:Object(C.jsx)(X,{url:e.image.url})}),Object(C.jsx)(f.a,{alignContent:"start",alignSelf:"center",children:Object(C.jsx)("div",{className:"ingredient-detail",children:this.getIngredientDetails()})})]})}}]),n}(a.a.PureComponent)),Z=Object(y.a)(["ingredients"])(Q),$=(n(171),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"getContentColumnsForSize",value:function(){switch(this.props.size){case"xsmall":case"small":return["full"];default:return["1/2","1/2"]}}},{key:"getContentRowsForSize",value:function(){switch(this.props.size){case"xsmall":case"small":return["auto","auto"];default:return["auto"]}}},{key:"getContentAreasForSize",value:function(){switch(this.props.size){case"xsmall":case"small":return[{name:"ingredients",start:[0,0],end:[0,0]},{name:"steps",start:[0,1],end:[0,1]}];default:return[{name:"ingredients",start:[0,0],end:[0,0]},{name:"steps",start:[1,0],end:[1,0]}]}}},{key:"getContentAreaGapBySize",value:function(){switch(this.props.size){case"xsmall":case"small":return"none";default:return"large"}}},{key:"showRecipeIngredients",value:function(){var e=this;return this.props.recipe.ingredients.map((function(t){return Object(C.jsx)(Z,{recipeIngredient:t,recipeId:e.props.recipe.id},t.ingredient.id)}))}},{key:"showHarmfulIngredients",value:function(){var e=this;return this.props.recipe.harmfulIngredients.map((function(t){return Object(C.jsx)(Y,{harmfulIngredient:t,recipeId:e.props.recipe.id},t.id)}))}},{key:"getHarmfulIngredientTitle",value:function(){var e=this.props.recipe.harmfulIngredients.length;return 0===e?"":1===e?this.props.t("recipe_page_special_ingredient"):this.props.t("recipe_page_special_ingredients")}},{key:"render",value:function(){return Object(C.jsxs)(f.a,{gridArea:"ingredients",children:[this.showRecipeIngredients(),Object(C.jsx)("h4",{className:"special-ingredient-title",children:this.getHarmfulIngredientTitle()}),this.showHarmfulIngredients()]})}}]),n}(a.a.PureComponent)),ee=Object(y.a)(["recipe-page"])($),te=(n(172),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"getLocaleString",value:function(e){return this.props.t(e)}},{key:"render",value:function(){return Object(C.jsxs)(f.a,{className:"step",children:[Object(C.jsx)("h4",{className:"title",children:"".concat(this.getLocaleString("recipe_page_step")," ").concat(this.props.number)}),Object(C.jsx)("span",{className:"text max-width-90",children:this.props.step})]})}}]),n}(a.a.PureComponent)),ne=Object(y.a)(["recipe-page"])(te),re=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"showSteps",value:function(){return this.props.recipe.steps.map((function(e,t){return Object(C.jsx)(ne,{step:e,number:t+1},t)}))}},{key:"render",value:function(){return Object(C.jsx)("div",{children:this.showSteps()})}}]),n}(a.a.PureComponent),ie=(n(173),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"getContentColumnsForSize",value:function(){switch(this.props.size){case"xsmall":case"small":return["full"];default:return["1/2","1/2"]}}},{key:"getContentRowsForSize",value:function(){switch(this.props.size){case"xsmall":case"small":return["auto","auto"];default:return["auto"]}}},{key:"getContentAreasForSize",value:function(){switch(this.props.size){case"xsmall":case"small":return[{name:"ingredient-list",start:[0,0],end:[0,0]},{name:"step-list",start:[0,1],end:[0,1]}];default:return[{name:"ingredient-list",start:[0,0],end:[0,0]},{name:"step-list",start:[1,0],end:[1,0]}]}}},{key:"getContentAreaGapBySize",value:function(){switch(this.props.size){case"xsmall":case"small":return"none";default:return"large"}}},{key:"render",value:function(){return Object(C.jsx)(f.a,{className:"content",children:Object(C.jsxs)(I.a,{columns:this.getContentColumnsForSize(),rows:this.getContentRowsForSize(),areas:this.getContentAreasForSize(),gap:this.getContentAreaGapBySize(),children:[Object(C.jsx)(f.a,{gridArea:"ingredient-list",children:Object(C.jsx)(ee,{recipe:this.props.recipe,size:this.props.size})}),Object(C.jsx)(f.a,{gridArea:"step-list",children:Object(C.jsx)(re,{recipe:this.props.recipe})})]})})}}]),n}(a.a.PureComponent)),ae={loadRecipe:v.loadRecipe},se=Object(j.b)((function(e){return{recipe:e.recipe.recipe}}),ae),ce=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={isTranslationReady:!1},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=O.getCountryNameFromProp(this.props),t=this.props.match.params.recipeId;O.isKnownCountry(e)&&D.hasRecipe(e,t)&&this.props.loadRecipe(e,t)}},{key:"componentDidUpdate",value:function(e){this.state.isTranslationReady||null==this.props.recipe||this.loadTranslationStrings()}},{key:"loadTranslationStrings",value:function(){var e=this,t=this.props.recipe;this.props.i18n.loadNamespaces("recipe-".concat(t.id),(function(){e.setState({isTranslationReady:!0})}))}},{key:"getRecipeString",value:function(e){return k.getRecipeString(this.props,e,this.props.recipe.id)}},{key:"getIngredientString",value:function(e){return k.getIngredientString(this.props,e)}},{key:"showHarmfulIngredientDetails",value:function(e){var t;return null===(t=this.props.recipe)||void 0===t?void 0:t.harmfulIngredients.map((function(t,n){return Object(C.jsx)(J,{harmfulIngredient:t,size:e},n)}))}},{key:"render",value:function(){var e=this,t=this.props.recipe;return t&&this.state.isTranslationReady?Object(C.jsx)(g.a.Consumer,{children:function(n){return Object(C.jsxs)(_.a,{pad:{bottom:"large"},children:[Object(C.jsx)(V,{size:n,recipe:t,getRecipeString:function(t){return e.getRecipeString(t)}}),Object(C.jsx)(ie,{recipe:t,size:n}),Object(C.jsx)(f.a,{pad:{vertical:"large"},children:e.showHarmfulIngredientDetails(n)})]})}}):Object(C.jsx)("div",{children:"Loading..."})}}]),n}(a.a.PureComponent),ue=se(Object(y.a)(["ingredients","harmful-ingredients","recipe-page"])(ce)),oe=n(203),le=n(81),pe=n(54),he=n(118),de=n(120);le.a.use(he.a).use(de.a).use(pe.e).init({fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1}});le.a;var ge=n(209),fe=n(210),me=n(196),je=n(195),be=n(197),ve=(n(174),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"getSmallScreenHeader",value:function(){return Object(C.jsx)(f.a,{justify:"end",children:Object(C.jsx)(ge.a,{a11yTitle:"Navigation Menu",dropProps:{align:{top:"bottom",right:"right"}},icon:Object(C.jsx)(je.a,{color:"brand"}),items:[{label:Object(C.jsx)(f.a,{pad:"small",className:"header-item",children:this.getLocaleString("site_header_about")}),href:"/about"}]})})}},{key:"getStandardHeader",value:function(){return Object(C.jsx)(f.a,{justify:"end",direction:"row",gap:"medium",children:Object(C.jsx)(fe.a,{className:"header-item",href:"/about",label:this.getLocaleString("site_header_about")})})}},{key:"getLocaleString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this.props.t(e,t)}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(me.a,{background:"light-4",pad:"small",height:"xxsmall",children:[Object(C.jsx)(fe.a,{className:"header-title",href:"https://traditional.recipes",icon:Object(C.jsx)(be.a,{color:"document"}),label:this.getLocaleString("site_header_title")}),Object(C.jsx)(g.a.Consumer,{children:function(t){return"small"===t?e.getSmallScreenHeader():e.getStandardHeader()}})]})}}]),n}(a.a.PureComponent)),Oe=Object(y.a)(["site-header"])(ve),ye={global:{colors:{react:"#282c34"},font:{size:"18px",height:"20px",family:"'Inter', Menlo, Monaco, Consolas, 'Courier New', monospace"}}};var xe=function(){return Object(C.jsx)(a.a.Suspense,{fallback:"Loading..",children:Object(C.jsxs)(oe.a,{theme:ye,full:!0,children:[Object(C.jsx)(Oe,{}),Object(C.jsx)(f.a,{pad:"medium",children:Object(C.jsxs)(u.a,{children:[Object(C.jsx)(o.b,{exact:!0,path:"/",children:Object(C.jsx)(o.a,{to:"/kenya"})}),Object(C.jsx)(o.b,{path:"/:country",component:N,exact:!0}),Object(C.jsx)(o.b,{path:"/:country/:recipeId",component:ue})]})})]})})},Ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,211)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),a(e),s(e)}))},we=n(48),Se=function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,null,[{key:"getReducer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.RECIPE_INITIAL_STATE,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case r.SET_RECIPE_PREVIEWS:return e.updateRecipePreviews(t,n.payload);case r.LOAD_RECIPE:return e.clearRecipe(t);case r.SET_RECIPE:return e.setRecipe(t,n.payload);default:return t}}},{key:"updateRecipePreviews",value:function(e,t){return Object(T.a)(Object(T.a)({},e),{},{recipePreviews:t})}},{key:"clearRecipe",value:function(e){return Object(T.a)(Object(T.a)({},e),{},{recipe:null})}},{key:"setRecipe",value:function(e,t){return Object(T.a)(Object(T.a)({},e),{},{recipe:t})}}]),e}();Se.RECIPE_INITIAL_STATE={country:null,recipePreviews:[],recipe:null};var ke=Object(we.b)({recipe:Se.getReducer}),Ce=n(198),Pe=n(199),Re=n(205),Ee=n(122),Ne=function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,null,[{key:"getEpics",value:function(){return Object(Pe.a)(this.fetchRecipePreviews,this.fetchRecipe)}},{key:"fetchRecipePreviews",value:function(e,t){return e.pipe(Object(Re.a)(r.INITIALISE_COUNTRY_PAGE),Object(Ee.a)(function(){var e=Object(L.a)(F.a.mark((function e(t,n){var r,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,D.getRecipePreviewsForCountry(r.payload);case 3:return i=e.sent,e.abrupt("return",Promise.resolve(v.setRecipePreviews(i)));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}},{key:"fetchRecipe",value:function(e,t){return e.pipe(Object(Re.a)(r.LOAD_RECIPE),Object(Ee.a)(function(){var e=Object(L.a)(F.a.mark((function e(t,n){var r,i,a,s;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=r.recipeId,a=r.country,e.next=4,D.fetchRecipe(a,i);case 4:return s=e.sent,e.abrupt("return",Promise.resolve(v.setRecipe(s)));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}}]),e}(),_e=function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,null,[{key:"getCombinedEpic",value:function(){return Object(Pe.a)(Ne.getEpics())}}]),e}();var ze=function(e){var t=[],n=Object(Ce.a)(),r=_e.getCombinedEpic();t.push(n);var i=Object(we.c)(we.a.apply(void 0,t)),a=Object(we.d)(ke,e,i);return n.run(r),a}({recipe:Se.RECIPE_INITIAL_STATE});c.a.render(Object(C.jsx)(j.a,{store:ze,children:Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(xe,{})})}),document.getElementById("root")),Ie()}},[[175,1,2]]]);
//# sourceMappingURL=main.45a5f246.chunk.js.map