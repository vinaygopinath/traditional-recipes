(this["webpackJsonptraditional-recipes"]=this["webpackJsonptraditional-recipes"]||[]).push([[0],{129:function(e,t,n){},130:function(e,t,n){},134:function(e,t,n){},145:function(e,t,n){},147:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var r,a=n(0),i=n.n(a),c=n(37),s=n.n(c),o=(n(129),n(130),n(74)),u=n(11),l=n(12),p=n(13),h=n(40),d=n(39),j=n(181),b=n(81),v=n(190),f=n(59);!function(e){e.INITIALISE_COUNTRY_PAGE="initialise_country_page",e.SET_RECIPE_PREVIEWS="set_recipe_previews"}(r||(r={}));var m,O=function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,null,[{key:"initialiseCountryPage",value:function(e){return{type:r.INITIALISE_COUNTRY_PAGE,payload:e}}},{key:"setRecipePreviews",value:function(e){return{type:r.SET_RECIPE_PREVIEWS,payload:e}}}]),e}();!function(e){e.Kenya="kenya"}(m||(m={}));var g=function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,null,[{key:"isKnownCountry",value:function(e){var t=null===e||void 0===e?void 0:e.toLocaleLowerCase();return null!=t&&Object.values(m).some((function(e){return e===t}))}}]),e}(),y=n(194),P=n(178),w=n(196),x=n(197),S=n(182),E=(n(134),n(2)),k=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isTranslationReady:!1},e.namespacePromise=null,e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.i18n.loadNamespaces("recipe-".concat(this.props.recipePreview.internalName),(function(){e.setState({isTranslationReady:!0})}))}},{key:"getLayoutColumnsForSize",value:function(e){switch(e){case"xsmall":case"small":return["full"];default:return["1/3","2/3"]}}},{key:"getLayoutRowsForSize",value:function(e){switch(e){case"xsmall":case"small":return["auto","auto"];default:return["auto"]}}},{key:"getLayoutGridAreasForSize",value:function(e){switch(e){case"xsmall":case"small":return[{name:"thumbnail",start:[0,0],end:[0,0]},{name:"content",start:[0,1],end:[0,1]}];default:return[{name:"thumbnail",start:[0,0],end:[0,0]},{name:"content",start:[1,0],end:[1,0]}]}}},{key:"render",value:function(){var e=this,t=this.props.recipePreview;return this.state.isTranslationReady?Object(E.jsx)(P.a,{animation:"fadeIn",className:"preview",height:"auto",width:"full",children:Object(E.jsx)(j.a.Consumer,{children:function(n){return Object(E.jsxs)(w.a,{columns:e.getLayoutColumnsForSize(n),rows:e.getLayoutRowsForSize(n),areas:e.getLayoutGridAreasForSize(n),children:[Object(E.jsx)(x.a,{className:"thumbnail",fit:"contain",src:t.images[0].url}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h2",{className:"title",children:e.getLocaleStringOrPlaceholder("".concat(e.props.recipePreview.title))}),Object(E.jsx)("span",{className:"subtitle",children:e.getLocaleStringOrPlaceholder("".concat(e.props.recipePreview.subtitle))}),Object(E.jsx)(S.a,{className:"description",margin:{top:"3vh"},children:e.getEllipsizedDescription(e.props.recipePreview)})]})]})}})}):Object(E.jsx)(P.a,{animation:"fadeIn",className:"preview",height:"auto",width:"full"})}},{key:"getLocaleStringOrPlaceholder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return this.state.isTranslationReady?this.props.t("recipe-".concat(this.props.recipePreview.internalName,":").concat(e),t):n}},{key:"getEllipsizedDescription",value:function(e){var t=this.getLocaleStringOrPlaceholder(e.description);return t.length>80?"".concat(t.slice(0,80),"..."):t}}]),n}(i.a.PureComponent),C=Object(y.a)()(k),I=(n(145),{initialiseCountryPage:O.initialiseCountryPage}),R=Object(f.b)((function(e){return{recipePreviews:e.recipe.recipePreviews}}),I)(function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.country;g.isKnownCountry(e)&&this.props.initialiseCountryPage(e)}},{key:"render",value:function(){var e=this.props.match.params.country;return g.isKnownCountry(e)?Object(E.jsxs)("div",{children:[Object(E.jsx)("h1",{children:this.props.match.params.country.toLocaleUpperCase()}),this.showRecipePreviews()]}):Object(E.jsx)(u.a,{to:"/kenya"})}},{key:"getListVerticalPaddingForScreenSize",value:function(e){switch(e){case"xsmall":case"small":return"xlarge";default:return"large"}}},{key:"showRecipePreviews",value:function(){var e=this;if(this.props.recipePreviews.length>0){var t=Array(10).fill(this.props.recipePreviews[0]);return Object(E.jsx)(j.a.Consumer,{children:function(n){return Object(E.jsx)(b.a,{className:"recipe-previews",children:Object(E.jsx)(v.a,{pad:{vertical:e.getListVerticalPaddingForScreenSize(n)},data:t,primaryKey:"internalName",children:function(e,t){return Object(E.jsx)(C,{recipePreview:e})}})})}})}}}]),n}(i.a.PureComponent)),L=n(193),_=n(78),N=n(49),T=n(117),A=n(119);_.a.use(T.a).use(A.a).use(N.e).init({fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1}});_.a;var F=n(199),z=n(200),M=n(186),V=n(185),D=n(187),G=(n(147),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"getSmallScreenHeader",value:function(){return Object(E.jsx)(b.a,{justify:"end",children:Object(E.jsx)(F.a,{a11yTitle:"Navigation Menu",dropProps:{align:{top:"bottom",right:"right"}},icon:Object(E.jsx)(V.a,{color:"brand"}),items:[{label:Object(E.jsx)(b.a,{pad:"small",className:"header-item",children:this.getLocaleString("site_header_about")}),href:"/about"}]})})}},{key:"getStandardHeader",value:function(){return Object(E.jsx)(b.a,{justify:"end",direction:"row",gap:"medium",children:Object(E.jsx)(z.a,{className:"header-item",href:"/about",label:this.getLocaleString("site_header_about")})})}},{key:"getLocaleString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this.props.t(e,t)}},{key:"render",value:function(){var e=this;return Object(E.jsxs)(M.a,{background:"light-4",pad:"small",height:"xxsmall",children:[Object(E.jsx)(z.a,{className:"header-title",href:"https://traditional.recipes",icon:Object(E.jsx)(D.a,{color:"document"}),label:this.getLocaleString("site_header_title")}),Object(E.jsx)(j.a.Consumer,{children:function(t){return"small"===t?e.getSmallScreenHeader():e.getStandardHeader()}})]})}}]),n}(i.a.PureComponent)),K=Object(y.a)(["site-header"])(G),B={global:{colors:{react:"#282c34"},font:{size:"18px",height:"20px",family:"'Inter', Menlo, Monaco, Consolas, 'Courier New', monospace"}}};var H=function(){return Object(E.jsx)(i.a.Suspense,{fallback:"Loading..",children:Object(E.jsxs)(L.a,{theme:B,full:!0,children:[Object(E.jsx)(K,{}),Object(E.jsx)(b.a,{pad:"medium",children:Object(E.jsxs)(o.a,{children:[Object(E.jsx)(u.b,{exact:!0,path:"/",children:Object(E.jsx)(u.a,{to:"/kenya"})}),Object(E.jsx)(u.b,{path:"/:country",component:R})]})})]})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,201)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))},U=n(43),W=n(79),Y=function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,null,[{key:"getReducer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.RECIPE_INITIAL_STATE,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case r.SET_RECIPE_PREVIEWS:return e.mutateRecipePreviews(t,n.payload);default:return t}}},{key:"mutateRecipePreviews",value:function(e,t){return Object(W.a)(Object(W.a)({},e),{},{recipePreviews:t})}}]),e}();Y.RECIPE_INITIAL_STATE={country:null,recipePreviews:[],recipe:null};var q=Object(U.b)({recipe:Y.getReducer}),Q=n(188),X=n(189),Z=n(42),$=n.n(Z),ee=n(53),te=n(195),ne=n(122),re=n(120),ae=n.n(re),ie={kenya:["ugali/ugali.json"]},ce=function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,null,[{key:"getRecipePreviewsForCountry",value:function(e){var t=this;return Promise.all(ie[e].map((function(n){return t.getRecipeJSONByLocalPath("recipes/".concat(e,"/").concat(n))})))}},{key:"getRecipeJSONByLocalPath",value:function(){var e=Object(ee.a)($.a.mark((function e(t){var n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.a.get(t);case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n.data));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),se=function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,null,[{key:"getEpics",value:function(){return Object(X.a)(this.fetchRecipePreviews)}},{key:"fetchRecipePreviews",value:function(e,t){return e.pipe(Object(te.a)(r.INITIALISE_COUNTRY_PAGE),Object(ne.a)(function(){var e=Object(ee.a)($.a.mark((function e(t,n){var r,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,ce.getRecipePreviewsForCountry(r.payload);case 3:return a=e.sent,e.abrupt("return",Promise.resolve(O.setRecipePreviews(a)));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}}]),e}(),oe=function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,null,[{key:"getCombinedEpic",value:function(){return Object(X.a)(se.getEpics())}}]),e}();var ue=function(e){var t=[],n=Object(Q.a)(),r=oe.getCombinedEpic();t.push(n);var a=Object(U.c)(U.a.apply(void 0,t)),i=Object(U.d)(q,e,a);return n.run(r),i}({recipe:Y.RECIPE_INITIAL_STATE});s.a.render(Object(E.jsx)(f.a,{store:ue,children:Object(E.jsx)(i.a.StrictMode,{children:Object(E.jsx)(H,{})})}),document.getElementById("root")),J()}},[[166,1,2]]]);
//# sourceMappingURL=main.1fd2b78c.chunk.js.map