{"version":3,"sources":["store/recipe/RecipeActionType.ts","store/recipe/RecipeActionCreators.ts","models/SupportedCountry.ts","utils/CountryUtils.ts","utils/TextUtils.ts","pages/country/recipe-preview/RecipePreview.tsx","pages/country/CountryPage.tsx","utils/RecipeMap.ts","utils/RecipeUtils.ts","common-components/separator/Separator.tsx","pages/recipe/recipe-banner/RecipeBanner.tsx","pages/recipe/recipe-ingredient-list/recipe-ingredient/RecipeIngredient.tsx","pages/recipe/recipe-ingredient-list/RecipeIngredientList.tsx","pages/recipe/step-list/step/Step.tsx","pages/recipe/step-list/StepList.tsx","pages/recipe/recipe-content/RecipeContent.tsx","pages/recipe/RecipePage.tsx","i18n.ts","common-components/site-header/SiteHeader.tsx","App.tsx","reportWebVitals.ts","store/recipe/RecipeReducer.ts","store/RootReducer.ts","store/recipe/RecipeEpics.ts","store/RootEpic.ts","store/Store.ts","index.tsx"],"names":["RecipeActionType","SupportedCountry","RecipeActionCreators","country","type","INITIALISE_COUNTRY_PAGE","payload","recipePreviews","SET_RECIPE_PREVIEWS","recipeId","LOAD_RECIPE","recipe","SET_RECIPE","CountryUtils","countryName","lowercaseCountry","toLowerCase","Object","values","some","props","match","params","getCountryNameFromProp","isKnownCountry","TextUtils","translationKey","args","undefined","t","placeholder","localizedString","this","getString","RecipePreview","state","isTranslationReady","namespacePromise","i18n","loadNamespaces","recipePreview","id","setState","size","name","start","end","Card","animation","className","height","width","ResponsiveContext","Consumer","Grid","columns","getLayoutColumnsForSize","rows","getLayoutRowsForSize","areas","getLayoutGridAreasForSize","Image","fit","src","images","url","getLocaleStringOrPlaceholder","title","subtitle","CardBody","margin","top","getEllipsizedDescription","getRecipeString","description","length","slice","React","PureComponent","withTranslation","mapDispatch","initialiseCountryPage","connector","connect","getCountryName","isKnownCountryInProp","toLocaleUpperCase","showRecipePreviews","to","history","push","Array","fill","Box","List","onClickItem","event","onRecipePreviewClick","item","pad","vertical","getListVerticalPaddingForScreenSize","data","primaryKey","children","index","RecipeMap","RecipeUtils","Promise","all","map","countryRecipePath","getJSONByLocalPath","fetchIngredients","recipeIngredients","resolve","ingredients","ingredientString","matches","INGREDIENT_ID_REGEX","Error","includes","ingredientJSON","a","ingredientId","getIngredientIdFromStringOrThrow","ingredient","recipeIngredient","quantity","note","filePath","axios","get","response","reject","Separator","style","thickness","RecipeBanner","background","getBannerColumnsForSize","getBannerRowsForSize","getBannerAreasForSize","gap","getBannerAreaGapBySize","gridArea","getSubtitle","RecipeIngredient","noteTranslationKey","ingredientName","getIngredientString","recipeQuantity","ingredientAndQuantity","console","log","image","alignContent","alignSelf","getIngredientDetails","RecipeIngredientList","showRecipeIngredients","Step","getLocaleString","number","step","StepList","steps","showSteps","RecipeContent","getContentColumnsForSize","getContentRowsForSize","getContentAreasForSize","getContentAreaGapBySize","loadRecipe","RecipePage","hasRecipe","loadTranslationStrings","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","debug","process","interpolation","escapeValue","SiteHeader","justify","Menu","a11yTitle","dropProps","align","right","icon","color","items","label","href","direction","Anchor","Header","getSmallScreenHeader","getStandardHeader","theme","global","colors","react","font","family","App","Suspense","fallback","Grommet","full","exact","path","component","CountryPage","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","RecipeReducer","RECIPE_INITIAL_STATE","action","updateRecipePreviews","clearRecipe","setRecipe","rootReducer","combineReducers","getReducer","RecipeEpics","combineEpics","fetchRecipePreviews","fetchRecipe","action$","pipe","ofType","mergeMap","recipeAction","getRecipePreviewsForCountry","setRecipePreviews","RootEpic","getEpics","store","preloadedState","middlewares","epicMiddleware","createEpicMiddleware","epics","getCombinedEpic","enhancers","compose","applyMiddleware","createStore","run","configureSiteStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.09d3dc6d.chunk.js","sourcesContent":["export enum RecipeActionType {\n  INITIALISE_COUNTRY_PAGE = \"initialise_country_page\",\n  SET_RECIPE_PREVIEWS = \"set_recipe_previews\",\n  LOAD_RECIPE = \"load_recipe\",\n  SET_RECIPE = \"set_recipe\"\n}","import { Recipe } from \"../../models/Recipe\";\nimport { RecipePreview } from \"../../models/RecipePreview\";\nimport { SupportedCountry } from \"../../models/SupportedCountry\";\nimport { InitialiseCountryPageAction, LoadRecipeAction, SetRecipeAction, SetRecipePreviewsAction } from \"./RecipeActions\";\nimport { RecipeActionType } from \"./RecipeActionType\";\n\nexport class RecipeActionCreators {\n\n  public static initialiseCountryPage(country: SupportedCountry): InitialiseCountryPageAction {\n    return {\n      type: RecipeActionType.INITIALISE_COUNTRY_PAGE,\n      payload: country\n    }\n  }\n\n  public static setRecipePreviews(recipePreviews: RecipePreview[]): SetRecipePreviewsAction {\n    return {\n      type: RecipeActionType.SET_RECIPE_PREVIEWS,\n      payload: recipePreviews\n    }\n  }\n\n  public static loadRecipe(country: SupportedCountry, recipeId: string): LoadRecipeAction {\n    return {\n      type: RecipeActionType.LOAD_RECIPE,\n      payload: {\n        country,\n        recipeId\n      }\n    }\n  }\n\n  public static setRecipe(recipe: Recipe): SetRecipeAction {\n    return {\n      type: RecipeActionType.SET_RECIPE,\n      payload: recipe\n    }\n  }\n}","export enum SupportedCountry {\n  Kenya = \"kenya\"\n}","import { RouteComponentProps } from \"react-router-dom\"\nimport { CountryProp } from \"../models/CountryProp\"\nimport { SupportedCountry } from \"../models/SupportedCountry\"\n\nexport class CountryUtils {\n\n  public static isKnownCountry(countryName: string | null): countryName is SupportedCountry {\n    const lowercaseCountry = countryName?.toLowerCase()\n    return lowercaseCountry != null && Object.values(SupportedCountry)\n      .some((country: string) => country === lowercaseCountry)\n  }\n\n  public static getCountryNameFromProp(props: RouteComponentProps<CountryProp>): string {\n    return props.match.params.country.toLowerCase()\n  }\n\n  public static isKnownCountryInProp(props: RouteComponentProps<CountryProp>): boolean {\n    const countryName = CountryUtils.getCountryNameFromProp(props)\n    return CountryUtils.isKnownCountry(countryName)\n  }\n}","import { WithTranslation } from \"react-i18next\";\n\nexport class TextUtils {\n\n  public static getString(\n    props: WithTranslation,\n    translationKey: string,\n    args: any = undefined\n  ): string {\n    return props.t(translationKey, args)\n  }\n\n  public static getStringOrPlaceholder(\n    props: WithTranslation,\n    translationKey: string,\n    placeholder: string\n  ): string {\n    const localizedString = props.t(translationKey)\n    if (!localizedString || localizedString === translationKey) {\n      return placeholder\n    } else {\n      return localizedString\n    }\n  }\n\n  public static getIngredientString(\n    props: WithTranslation,\n    translationKey: string\n  ): string {\n    return this.getString(\n      props,\n      `ingredients:${translationKey}`\n    )\n  }\n\n  public static getRecipeString(\n    props: WithTranslation,\n    translationKey: string,\n    recipeId: string\n  ): string {\n    return this.getString(\n      props,\n      `recipe-${recipeId}:${translationKey}`\n    )\n  }\n\n\n}","import React from \"react\"\nimport { RecipePreview as RecipePreviewModel } from \"../../../models/RecipePreview\"\nimport { withTranslation, WithTranslation } from \"react-i18next\"\nimport { Card, CardBody, Grid, Image, ResponsiveContext } from \"grommet\"\nimport './RecipePreview.scss'\nimport { TextUtils } from \"../../../utils/TextUtils\"\n\ntype RecipePreviewProps = WithTranslation & {\n  recipePreview: RecipePreviewModel\n}\n\ntype RecipePreviewState = {\n  isTranslationReady: boolean\n}\n\nclass RecipePreview extends React.PureComponent<RecipePreviewProps, RecipePreviewState> {\n\n  state: RecipePreviewState = {\n    isTranslationReady: false\n  }\n\n  namespacePromise: Promise<void> | null = null\n\n  componentDidMount() {\n    this.props.i18n.loadNamespaces(`recipe-${this.props.recipePreview.id}`, () => {\n      this.setState({\n        isTranslationReady: true\n      })\n    })\n  }\n\n  getLayoutColumnsForSize(size: string): string[] {\n    switch (size) {\n      case \"xsmall\":\n      case \"small\":\n        // Phone screens have a single full-width column\n        return [\"full\"]\n      default:\n        // Tablet and desktop screens have two columns\n        // thumbnail in the first, and content in the second\n        return [\"1/3\", \"2/3\"]\n    }\n  }\n\n  getLayoutRowsForSize(size: string): string[] {\n    switch (size) {\n      case \"xsmall\":\n      case \"small\":\n        return [\"auto\", \"auto\"]\n      default:\n        return [\"auto\"]\n    }\n  }\n\n  getLayoutGridAreasForSize(\n    size: string\n    ): { name?: string; start?: number[]; end?: number[] }[] {\n      switch (size) {\n        case \"xsmall\":\n        case \"small\":\n          return [\n            /**\n             * Small screens have two full-width rows\n             */\n            { name: \"thumbnail\", start: [0, 0], end: [0, 0] },\n            { name: \"content\", start: [0, 1], end: [0, 1] }\n          ]\n        default:\n          /**\n           * Medium, large and xlarge screens use a single row + two columns\n           */\n          return [\n            { name: \"thumbnail\", start: [0, 0], end: [0, 0] },\n            { name: \"content\", start: [1, 0], end: [1, 0] }\n          ]\n      }\n    }\n  render() {\n    const recipePreview = this.props.recipePreview\n    if (!this.state.isTranslationReady) {\n      return (\n      <Card animation=\"fadeIn\" className=\"preview\" height=\"auto\" width=\"full\">\n\n      </Card>\n      )\n    }\n    return (\n      <Card animation=\"fadeIn\" className=\"preview\" height=\"auto\" width=\"full\">\n        <ResponsiveContext.Consumer>\n          {(size) => (\n            <Grid\n              columns={this.getLayoutColumnsForSize(size)}\n              rows={this.getLayoutRowsForSize(size)}\n              areas={this.getLayoutGridAreasForSize(size)}\n            >\n            <Image className=\"thumbnail\" fit=\"contain\" src={recipePreview.images[0].url}  />\n            <div>\n              <h2 className=\"title\">\n              {this.getLocaleStringOrPlaceholder(\n                `${this.props.recipePreview.title}`\n              )}\n              </h2>\n              <span className=\"subtitle\">{this.getLocaleStringOrPlaceholder(\n                `${this.props.recipePreview.subtitle}`\n              )}</span>\n              <CardBody className=\"description\" margin={{top: '3vh'}}>\n                {this.getEllipsizedDescription(this.props.recipePreview)}\n              </CardBody>\n            </div>\n            </Grid>\n          )\n          }\n        </ResponsiveContext.Consumer>\n</Card>\n    )\n  }\n\n  getLocaleStringOrPlaceholder(translationKey: string, placeholder: string = \"...\"): string {\n    if (this.state.isTranslationReady) {\n      return TextUtils.getRecipeString(\n        this.props,\n        translationKey,\n        this.props.recipePreview.id\n      )\n    } else {\n      return placeholder\n    }\n  }\n\n  getEllipsizedDescription(recipePreview: RecipePreviewModel): string {\n    const description = this.getLocaleStringOrPlaceholder(recipePreview.description)\n    if (description.length > 80) {\n      return `${description.slice(0, 80)}...`\n    } else {\n      return description\n    }\n  }\n}\n\nexport default withTranslation()(RecipePreview)\n","import { Box, List, ResponsiveContext } from \"grommet\"\nimport React from \"react\"\nimport { connect, ConnectedProps } from \"react-redux\"\nimport { Redirect, RouteComponentProps } from \"react-router-dom\"\nimport { RecipePreview } from \"../../models/RecipePreview\"\nimport { RecipeActionCreators } from \"../../store/recipe/RecipeActionCreators\"\nimport { RootState } from \"../../store/RootReducer\"\nimport { CountryUtils } from \"../../utils/CountryUtils\"\nimport RecipePreviewComponent from \"./recipe-preview/RecipePreview\"\nimport \"./CountryPage.scss\"\nimport { CountryProp } from \"../../models/CountryProp\"\n\nconst mapState = (state: RootState) => ({\n  recipePreviews: state.recipe.recipePreviews,\n})\n\nconst mapDispatch = {\n  initialiseCountryPage: RecipeActionCreators.initialiseCountryPage\n}\n\nconst connector = connect(mapState, mapDispatch)\n\ntype CountryPageProps = ConnectedProps<typeof connector> &\n  RouteComponentProps<CountryProp>\n\nclass CountryPage extends React.PureComponent<CountryPageProps> {\n\n  componentDidMount() {\n    const countryName = this.getCountryName()\n    if (CountryUtils.isKnownCountry(countryName)) {\n      this.props.initialiseCountryPage(countryName)\n    }\n  }\n\n  render() {\n    if (CountryUtils.isKnownCountryInProp(this.props)) {\n      return (\n        <div>\n          <h1>{CountryUtils.getCountryNameFromProp(this.props).toLocaleUpperCase()}</h1>\n            {this.showRecipePreviews()}\n        </div>\n      )\n    } else {\n      return <Redirect to=\"/kenya\" />\n    }\n  }\n\n  getListVerticalPaddingForScreenSize(size: string): string {\n    switch (size) {\n      case \"xsmall\":\n      case \"small\":\n        return \"xlarge\"\n      default:\n        return \"large\"\n    }\n  }\n\n  getCountryName(): string {\n    return CountryUtils.getCountryNameFromProp(this.props)\n  }\n\n  onRecipePreviewClick(recipePreview: RecipePreview | undefined) {\n    if (!recipePreview) {\n      return\n    }\n\n    this.props.history.push(`${this.getCountryName()}/${recipePreview.id}`)\n  }\n\n  showRecipePreviews() {\n    if (this.props.recipePreviews.length > 0) {\n      // TODO (dev only): Creating multiple elements to visualize a longer list\n      // Remove before release\n      const recipePreviews = Array(10).fill(this.props.recipePreviews[0])\n      return (\n        <ResponsiveContext.Consumer>\n          {(size) => (\n            <Box className=\"recipe-previews\">\n            <List\n            onClickItem={(event: { item?: RecipePreview; index?: number }) => this.onRecipePreviewClick(event.item)}\n            pad={{vertical: this.getListVerticalPaddingForScreenSize(size)}}\n            data={recipePreviews}\n            primaryKey=\"id\"\n            children={(item: RecipePreview, index: number) => <RecipePreviewComponent recipePreview={item} />}\n            />\n            </Box>\n          )}\n        </ResponsiveContext.Consumer>\n      )\n    }\n  }\n}\n\nexport default connector(CountryPage)\n","export const RecipeMap: { [key: string]: string[] } = {\n  \"kenya\": [\n    \"ugali/ugali.json\"\n  ]\n}","import axios from \"axios\"\nimport { Ingredient } from \"../models/Ingredient\";\nimport { Recipe } from \"../models/Recipe\";\nimport { RecipeIngredient } from \"../models/RecipeIngredient\";\nimport { RecipePreview } from \"../models/RecipePreview\";\nimport { SupportedCountry } from \"../models/SupportedCountry\";\nimport { RecipeMap } from \"./RecipeMap\";\n\nexport class RecipeUtils {\n\n  private static INGREDIENT_ID_REGEX = /{{ingredient_([a-z_]*)}}/\n\n  public static getRecipePreviewsForCountry(country: SupportedCountry): Promise<RecipePreview[]> {\n    return Promise.all(\n      RecipeMap[country].map(countryRecipePath => {\n        // No /public prefix\n        // /public/recipes/... is available at recipes/... in the browser\n        return this.getJSONByLocalPath(`recipes/${country}/${countryRecipePath}`) as Promise<RecipePreview>\n      })\n    )\n  }\n\n  public static async fetchRecipe(\n    country: SupportedCountry,\n    recipeId: string\n  ): Promise<Recipe> {\n    const recipePreview = await this.getJSONByLocalPath(\n      `/recipes/${country}/${recipeId}/${recipeId}.json`\n    )\n    const recipeIngredients = await this.fetchIngredients(recipePreview)\n\n    return Promise.resolve({\n      ...recipePreview,\n      ingredients: recipeIngredients\n    } as Recipe)\n  }\n\n  public static getIngredientIdFromStringOrThrow(ingredientString: string): string {\n    const matches = ingredientString.match(this.INGREDIENT_ID_REGEX)\n    if (!matches) {\n      throw Error(`Ingredient string ${ingredientString} did not contain any ingredient names`)\n    }\n\n    if (matches.length !== 2) {\n      throw Error(`Unexpected number of ingredient name matches for string ${ingredientString}. Found ${matches.length} matches`)\n    }\n\n    return matches[1]\n  }\n\n  public static hasRecipe(country: SupportedCountry, recipeId: string): boolean {\n    return RecipeMap[country].includes(`${recipeId}/${recipeId}.json`)\n  }\n\n  private static async fetchIngredients(\n    recipePreview: RecipePreview,\n  ): Promise<RecipeIngredient[]> {\n    return Promise.all(\n      recipePreview.ingredients.map(async ingredientJSON => {\n        const ingredientId = RecipeUtils.getIngredientIdFromStringOrThrow(ingredientJSON.ingredient)\n        const ingredient: Ingredient = await this.getJSONByLocalPath(`/ingredients/${ingredientId}/${ingredientId}.json`)\n        const recipeIngredient: RecipeIngredient = {\n          ingredient: ingredient,\n          quantity: ingredientJSON.quantity,\n          note: ingredientJSON.note\n        }\n        return Promise.resolve(recipeIngredient)\n      })\n    )\n  }\n\n  private static async getJSONByLocalPath(filePath: string): Promise<any> {\n    try {\n      const response = await axios.get(filePath)\n      return Promise.resolve(response.data)\n    } catch (error) {\n      // TODO Handle failure to load JSON\n      return Promise.reject(error)\n    }\n  }\n}","import React from \"react\"\nimport { Box } from \"grommet\";\nimport { PadType } from \"grommet/utils\";\nimport './Separator.scss';\n\ninterface SeparatorProps {\n  pad?: PadType,\n  thickness?: string\n}\n\nexport default class Separator extends React.PureComponent<SeparatorProps> {\n\n  render() {\n    return (\n      <Box pad={this.props.pad}>\n        <div className=\"separator\" style={{height: this.props.thickness || '1px' }}/>\n      </Box>\n    )\n  }\n}","import { Box, Grid, Image } from \"grommet\"\nimport React from \"react\"\nimport { Recipe } from \"../../../models/Recipe\"\nimport Separator from \"../../../common-components/separator/Separator\"\nimport \"./RecipeBanner.scss\"\n\ntype RecipeBannerProps = {\n  recipe: Recipe\n  size: string\n  getRecipeString: (translationKey: string) => string\n}\n\nexport default class RecipeBanner extends React.PureComponent<RecipeBannerProps> {\n  getBannerColumnsForSize(): string[] {\n    switch (this.props.size) {\n      case \"xsmall\":\n      case \"small\":\n        // Phone screens have a single full-width column\n        return [\"full\"]\n      default:\n        // Tablet and desktop screens have two columns\n        // image in the first, and intro in the second\n        return [\"1/2\", \"1/2\"]\n    }\n  }\n\n  getBannerRowsForSize(): string[] {\n    switch (this.props.size) {\n      case \"xsmall\":\n      case \"small\":\n        return [\"auto\", \"auto\"]\n      default:\n        return [\"auto\"]\n    }\n  }\n\n  getBannerAreasForSize(): {\n    name?: string\n    start?: number[]\n    end?: number[]\n  }[] {\n    switch (this.props.size) {\n      case \"xsmall\":\n      case \"small\":\n        return [\n          /**\n           * Small screens have two full-width rows\n           */\n          { name: \"image\", start: [0, 0], end: [0, 0] },\n          { name: \"intro\", start: [0, 1], end: [0, 1] },\n        ]\n      default:\n        /**\n         * Medium, large and xlarge screens use a single row + two columns\n         */\n        return [\n          { name: \"intro\", start: [0, 0], end: [0, 0] },\n          { name: \"image\", start: [1, 0], end: [1, 0] },\n        ]\n    }\n  }\n\n  getBannerAreaGapBySize() {\n    switch (this.props.size) {\n      case \"xsmall\":\n      case \"small\":\n        return \"none\"\n      default:\n        return \"large\"\n    }\n  }\n\n  getRecipeString(translationKey: string) {\n    return this.props.getRecipeString(translationKey)\n  }\n\n  getSubtitle(recipe: Recipe): string {\n    if (recipe.subtitle) {\n      return this.getRecipeString(recipe.subtitle)\n    } else {\n      return \"\"\n    }\n  }\n\n  render() {\n    const recipe = this.props.recipe\n    return (\n        <Box className=\"banner\" background=\"light-2\">\n          <Grid\n            columns={this.getBannerColumnsForSize()}\n            rows={this.getBannerRowsForSize()}\n            areas={this.getBannerAreasForSize()}\n            gap={this.getBannerAreaGapBySize()}\n          >\n            <Box gridArea=\"intro\" className=\"intro\">\n              <h1 className=\"title\">{this.getRecipeString(recipe.title)}</h1>\n              <span className=\"subtitle\">{this.getSubtitle(recipe)}</span>\n              <Separator pad=\"medium\" />\n              <p className=\"description max-width-90\">\n                {this.getRecipeString(recipe.description)}\n              </p>\n            </Box>\n            <Image\n              gridArea=\"image\"\n              className=\"image\"\n              src={recipe.images[0].url}\n              fit=\"cover\"\n            />\n          </Grid>\n        </Box>\n    )\n  }\n}\n","import { Box, Grid, Image } from \"grommet\";\nimport React from \"react\";\nimport { WithTranslation, withTranslation } from \"react-i18next\";\nimport { RecipeIngredient as RecipeIngredientModel } from \"../../../../models/RecipeIngredient\";\nimport { TextUtils } from \"../../../../utils/TextUtils\";\n\ntype RecipeIngredientProps = {\n  recipeIngredient: RecipeIngredientModel\n  recipeId: string\n} & WithTranslation\n\nclass RecipeIngredient extends React.PureComponent<RecipeIngredientProps> {\n\n  getIngredientDetails(): string {\n    const { recipeIngredient, recipeId } = this.props\n    let noteTranslationKey = recipeIngredient.note\n    const ingredientName = TextUtils.getIngredientString(this.props, recipeIngredient.ingredient.name)\n    const recipeQuantity = TextUtils.getRecipeString(this.props, recipeIngredient.quantity, recipeId)\n    const ingredientAndQuantity = `${ingredientName} - ${recipeQuantity}`\n    let note: string | null = null\n    if (noteTranslationKey) {\n      note = TextUtils.getRecipeString(this.props, noteTranslationKey, recipeId)\n    }\n    if (note) {\n      return `${ingredientAndQuantity} (${note})`\n    } else {\n      return ingredientAndQuantity\n    }\n  }\n\n  render() {\n    const { ingredient } = this.props.recipeIngredient\n    console.log(`Ingredient image URL = ${ingredient.image.url}`)\n    return (\n      <Grid columns={[\"1/4\", \"3/4\"]} rows=\"full\" height=\"xsmall\">\n        <Box>\n          <Image src=\"/recipes/kenya/ugali/clubhouse.png\" fit=\"contain\" />\n        </Box>\n        <Box alignContent=\"start\" alignSelf=\"center\">\n          <div>{this.getIngredientDetails()}</div>\n        </Box>\n      </Grid>\n    )\n  }\n}\n\nexport default withTranslation(['ingredients'])(RecipeIngredient)","import { Box, Grid } from \"grommet\"\nimport React from \"react\"\nimport { Recipe } from \"../../../models/Recipe\"\nimport RecipeIngredient from \"./recipe-ingredient/RecipeIngredient\"\nimport \"./RecipeIngredientList.scss\"\ntype RecipeIngredientListProps = {\n  recipe: Recipe\n  size: string\n}\n\nexport default class RecipeIngredientList extends React.PureComponent<RecipeIngredientListProps> {\n  getContentColumnsForSize(): string[] {\n    switch (this.props.size) {\n      case \"xsmall\":\n      case \"small\":\n        // Phone screens have a single full-width column\n        return [\"full\"]\n      default:\n        // Tablet and desktop screens have two columns\n        // image in the first, and intro in the second\n        return [\"1/2\", \"1/2\"]\n    }\n  }\n\n  getContentRowsForSize(): string[] {\n    switch (this.props.size) {\n      case \"xsmall\":\n      case \"small\":\n        return [\"auto\", \"auto\"]\n      default:\n        return [\"auto\"]\n    }\n  }\n\n  getContentAreasForSize(): {\n    name?: string\n    start?: number[]\n    end?: number[]\n  }[] {\n    switch (this.props.size) {\n      case \"xsmall\":\n      case \"small\":\n        return [\n          /**\n           * Small screens have two full-width rows\n           */\n          { name: \"ingredients\", start: [0, 0], end: [0, 0] },\n          { name: \"steps\", start: [0, 1], end: [0, 1] },\n        ]\n      default:\n        /**\n         * Medium, large and xlarge screens use a single row + two columns\n         */\n        return [\n          { name: \"ingredients\", start: [0, 0], end: [0, 0] },\n          { name: \"steps\", start: [1, 0], end: [1, 0] },\n        ]\n    }\n  }\n\n  getContentAreaGapBySize() {\n    switch (this.props.size) {\n      case \"xsmall\":\n      case \"small\":\n        return \"none\"\n      default:\n        return \"large\"\n    }\n  }\n\n  showRecipeIngredients() {\n    return this.props.recipe.ingredients.map((ingredient) => {\n      return (\n        <RecipeIngredient\n          recipeIngredient={ingredient}\n          key={ingredient.ingredient.id}\n          recipeId={this.props.recipe.id}\n        />\n      )\n    })\n  }\n\n  render() {\n    return <Box gridArea=\"ingredients\">{this.showRecipeIngredients()}</Box>\n  }\n}\n","import { Box, Grid } from \"grommet\"\nimport React from \"react\"\nimport { WithTranslation, withTranslation } from \"react-i18next\";\nimport { Recipe } from \"../../../../models/Recipe\";\nimport \"./Step.scss\"\n\ntype StepProps = {\n  step: string\n  number: number\n} & WithTranslation\n\nclass Step extends React.PureComponent<StepProps> {\n\n  getLocaleString(translationKey: string): string {\n    return this.props.t(translationKey)\n  }\n\n  render() {\n    return (\n      <Box className=\"step\">\n        <h4 className=\"title\">{`${this.getLocaleString('recipe_page_step')} ${this.props.number}`}</h4>\n        <span className=\"text\">{this.props.step}</span>\n      </Box>\n    )\n  }\n}\n\nexport default withTranslation(['recipe-page'])(Step)","import { Box, Grid } from \"grommet\"\nimport React from \"react\"\nimport { Recipe } from \"../../../models/Recipe\"\nimport Step from \"./step/Step\"\n\ntype StepListProps = {\n  recipe: Recipe\n}\n\nclass StepList extends React.PureComponent<StepListProps> {\n\n  showSteps() {\n    return this.props.recipe.steps.map((step, index) => {\n      return <Step key={index} step={step} number={index + 1} />\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        {this.showSteps()}\n      </div>\n    )\n  }\n}\n\nexport default StepList","import { Box, Grid, Image } from \"grommet\"\nimport React from \"react\"\nimport { Recipe } from \"../../../models/Recipe\"\nimport RecipeIngredientList from \"../recipe-ingredient-list/RecipeIngredientList\"\nimport StepList from \"../step-list/StepList\"\nimport \"./RecipeContent.scss\"\n\ntype RecipeContentProps = {\n  recipe: Recipe\n  size: string\n}\n\nclass RecipeContent extends React.PureComponent<RecipeContentProps> {\n  getContentColumnsForSize(): string[] {\n    switch (this.props.size) {\n      case \"xsmall\":\n      case \"small\":\n        // Phone screens have a single full-width column\n        return [\"full\"]\n      default:\n        // Tablet and desktop screens have two columns\n        // image in the first, and intro in the second\n        return [\"1/2\", \"1/2\"]\n    }\n  }\n\n  getContentRowsForSize(): string[] {\n    switch (this.props.size) {\n      case \"xsmall\":\n      case \"small\":\n        return [\"auto\", \"auto\"]\n      default:\n        return [\"auto\"]\n    }\n  }\n\n  getContentAreasForSize(): {\n    name?: string\n    start?: number[]\n    end?: number[]\n  }[] {\n    switch (this.props.size) {\n      case \"xsmall\":\n      case \"small\":\n        return [\n          /**\n           * Small screens have two full-width rows\n           */\n          { name: \"ingredient-list\", start: [0, 0], end: [0, 0] },\n          { name: \"step-list\", start: [0, 1], end: [0, 1] },\n        ]\n      default:\n        /**\n         * Medium, large and xlarge screens use a single row + two columns\n         */\n        return [\n          { name: \"ingredient-list\", start: [0, 0], end: [0, 0] },\n          { name: \"step-list\", start: [1, 0], end: [1, 0] },\n        ]\n    }\n  }\n\n  getContentAreaGapBySize() {\n    switch (this.props.size) {\n      case \"xsmall\":\n      case \"small\":\n        return \"none\"\n      default:\n        return \"large\"\n    }\n  }\n\n  render() {\n    return (\n      <Box className=\"content\">\n        <Grid\n          columns={this.getContentColumnsForSize()}\n          rows={this.getContentRowsForSize()}\n          areas={this.getContentAreasForSize()}\n          gap={this.getContentAreaGapBySize()}\n        >\n          <Box gridArea=\"ingredient-list\">\n            <RecipeIngredientList\n              recipe={this.props.recipe}\n              size={this.props.size}\n            />\n          </Box>\n          <Box gridArea=\"step-list\">\n            <StepList recipe={this.props.recipe} />\n          </Box>\n        </Grid>\n      </Box>\n    )\n  }\n}\n\nexport default RecipeContent\n","import { Box, ResponsiveContext } from \"grommet\"\nimport React from \"react\"\nimport { withTranslation, WithTranslation } from \"react-i18next\"\nimport { connect, ConnectedProps } from \"react-redux\"\nimport { RouteComponentProps } from \"react-router-dom\"\nimport { CountryProp } from \"../../models/CountryProp\"\nimport { Recipe } from \"../../models/Recipe\"\nimport { RecipeActionCreators } from \"../../store/recipe/RecipeActionCreators\"\nimport { RootState } from \"../../store/RootReducer\"\nimport { CountryUtils } from \"../../utils/CountryUtils\"\nimport { RecipeUtils } from \"../../utils/RecipeUtils\"\nimport { TextUtils } from \"../../utils/TextUtils\"\nimport RecipeBanner from \"./recipe-banner/RecipeBanner\"\nimport RecipeContent from \"./recipe-content/RecipeContent\"\nimport RecipeIngredientList from \"./recipe-ingredient-list/RecipeIngredientList\"\nimport \"./RecipePage.scss\"\n\nconst mapState = (state: RootState) => ({\n  recipe: state.recipe.recipe,\n})\n\nconst mapDispatch = {\n  loadRecipe: RecipeActionCreators.loadRecipe,\n}\n\nconst connector = connect(mapState, mapDispatch)\n\ntype RecipePageProps = ConnectedProps<typeof connector> &\n  RouteComponentProps<CountryProp> &\n  RouteComponentProps<{ recipeId: string }> &\n  WithTranslation\n\ntype RecipeState = {\n  isTranslationReady: boolean\n}\n\nclass RecipePage extends React.PureComponent<RecipePageProps, RecipeState> {\n  state: RecipeState = {\n    isTranslationReady: false,\n  }\n\n  componentDidMount() {\n    const countryName = CountryUtils.getCountryNameFromProp(this.props)\n    const recipeId = this.props.match.params.recipeId\n    if (\n      CountryUtils.isKnownCountry(countryName) &&\n      RecipeUtils.hasRecipe(countryName, recipeId)\n    ) {\n      this.props.loadRecipe(countryName, recipeId)\n    }\n  }\n\n  componentDidUpdate(props: RecipePageProps) {\n    if (!this.state.isTranslationReady && this.props.recipe != null) {\n      this.loadTranslationStrings()\n    }\n  }\n\n  loadTranslationStrings() {\n    const recipe = this.props.recipe as Recipe\n    this.props.i18n.loadNamespaces(`recipe-${recipe.id}`, () => {\n      this.setState({\n        isTranslationReady: true,\n      })\n    })\n  }\n\n  getRecipeString(translationKey: string): string {\n    return TextUtils.getRecipeString(\n      this.props,\n      translationKey,\n      this.props.recipe!.id\n    )\n  }\n\n  getIngredientString(translationKey: string): string {\n    return TextUtils.getIngredientString(this.props, translationKey)\n  }\n\n  render() {\n    const recipe = this.props.recipe\n    if (!recipe || !this.state.isTranslationReady) {\n      return <div>Loading...</div>\n    }\n\n    return (\n      <ResponsiveContext.Consumer>\n        {(size) => (\n          <main>\n            <RecipeBanner\n              size={size}\n              recipe={recipe}\n              getRecipeString={(translationKey) =>\n                this.getRecipeString(translationKey)\n              }\n            />\n            <RecipeContent recipe={recipe} size={size}/>\n            {/* <RecipeIngredientList recipe={recipe} size={size}/>\n            <div>Recipe title: {this.getRecipeString(recipe.title)}</div>\n            <div>\n              Recipe ingredients:{\" \"}\n              {recipe.ingredients\n                .map((ingredient) => ingredient.ingredient.name)\n                .join(\", \")}\n            </div> */}\n          </main>\n        )}\n      </ResponsiveContext.Consumer>\n    )\n  }\n}\n\nexport default connector(withTranslation([\"ingredients\"])(RecipePage))\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n\nimport Backend from 'i18next-http-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\ni18n\n  // load translation using http -> see /public/locales\n  // Refer: https://github.com/i18next/i18next-http-backend\n  .use(Backend)\n  // detect user language\n  // Refer: https://github.com/i18next/i18next-browser-languageDetector\n  .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    fallbackLng: 'en',\n    debug: (!process.env.NODE_ENV || process.env.NODE_ENV === 'development'),\n\n    interpolation: {\n      escapeValue: false // not needed for react as it escapes by default\n    }\n  });\n\n\nexport default i18n","import { Anchor, Header, ResponsiveContext, Box, Menu } from \"grommet\"\nimport { Grommet as GrommetIcon, Menu as MenuIcon } from \"grommet-icons\"\nimport React from \"react\"\nimport { withTranslation, WithTranslation } from \"react-i18next\"\nimport \"./SiteHeader.scss\"\n\ntype SiteHeaderProps = WithTranslation\n\nclass SiteHeader extends React.PureComponent<SiteHeaderProps> {\n  getSmallScreenHeader() {\n    return (\n      <Box justify=\"end\">\n        <Menu\n          a11yTitle=\"Navigation Menu\"\n          dropProps={{ align: { top: \"bottom\", right: \"right\" } }}\n          icon={<MenuIcon color=\"brand\" />}\n          items={[\n            {\n              label: (\n                <Box pad=\"small\" className=\"header-item\">\n                  {this.getLocaleString(\"site_header_about\")}\n                </Box>\n              ),\n              href: \"/about\",\n            },\n          ]}\n        />\n      </Box>\n    )\n  }\n\n  getStandardHeader() {\n    return (\n      <Box justify=\"end\" direction=\"row\" gap=\"medium\">\n        <Anchor\n          className=\"header-item\"\n          href=\"/about\"\n          label={this.getLocaleString(\"site_header_about\")}\n        />\n      </Box>\n    )\n  }\n\n  getLocaleString(translationKey: string, args: any = undefined): string {\n    return this.props.t(translationKey, args)\n  }\n\n  render() {\n    return (\n      <Header background=\"light-4\" pad=\"small\" height=\"xxsmall\">\n        <Anchor\n          className=\"header-title\"\n          href=\"https://traditional.recipes\"\n          icon={<GrommetIcon color=\"document\" />}\n          label={this.getLocaleString(\"site_header_title\")}\n        />\n\n        <ResponsiveContext.Consumer>\n          {(size) =>\n            size === \"small\"\n              ? this.getSmallScreenHeader()\n              : this.getStandardHeader()\n          }\n        </ResponsiveContext.Consumer>\n      </Header>\n    )\n  }\n}\n\nexport default withTranslation([\"site-header\"])(SiteHeader)\n","import React from \"react\"\nimport \"./App.css\"\nimport { BrowserRouter, Redirect, Route } from \"react-router-dom\"\nimport CountryPage from \"./pages/country/CountryPage\"\nimport RecipePage from \"./pages/recipe/RecipePage\"\nimport { Box, Grommet } from \"grommet\"\nimport \"./i18n\"\nimport SiteHeader from \"./common-components/site-header/SiteHeader\"\n\nconst theme = {\n  global: {\n    colors: {\n      react: \"#282c34\",\n    },\n    font: {\n      size: \"18px\",\n      height: \"20px\",\n      family:\n        \"'Inter', Menlo, Monaco, Consolas, 'Courier New', monospace\",\n    },\n  },\n}\n\nfunction App() {\n  return (\n    <React.Suspense fallback=\"Loading..\">\n      <Grommet theme={theme} full>\n        <SiteHeader />\n        <Box pad=\"medium\">\n          <BrowserRouter>\n            <Route exact path=\"/\">\n              <Redirect to=\"/kenya\" />\n            </Route>\n            <Route path=\"/:country\" component={CountryPage} exact />\n            <Route path=\"/:country/:recipeId\" component={RecipePage} />\n          </BrowserRouter>\n        </Box>\n      </Grommet>\n    </React.Suspense>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { Recipe } from \"../../models/Recipe\";\nimport { RecipePreview } from \"../../models/RecipePreview\";\nimport { RecipeActions } from \"./RecipeActions\";\nimport { RecipeActionType } from \"./RecipeActionType\";\nimport { RecipeState } from \"./RecipeState\";\n\n\nexport class RecipeReducer {\n\n  public static RECIPE_INITIAL_STATE: RecipeState = {\n    country: null,\n    recipePreviews: [],\n    recipe: null\n  }\n\n  public static getReducer(state = RecipeReducer.RECIPE_INITIAL_STATE, action: RecipeActions): RecipeState {\n    switch (action.type) {\n      case RecipeActionType.SET_RECIPE_PREVIEWS: return RecipeReducer.updateRecipePreviews(state, action.payload)\n      case RecipeActionType.LOAD_RECIPE: return RecipeReducer.clearRecipe(state)\n      case RecipeActionType.SET_RECIPE: return RecipeReducer.setRecipe(state, action.payload)\n      default: return state\n    }\n  }\n\n  private static updateRecipePreviews(state: RecipeState, recipePreviews: RecipePreview[]): RecipeState {\n    return {\n      ...state,\n      recipePreviews\n    }\n  }\n\n  private static clearRecipe(state: RecipeState): RecipeState {\n    return {\n      ...state,\n      recipe: null\n    }\n  }\n\n  private static setRecipe(state: RecipeState, recipe: Recipe): RecipeState {\n    return {\n      ...state,\n      recipe\n    }\n  }\n}","import { combineReducers } from \"redux\"\nimport { RecipeReducer } from \"./recipe/RecipeReducer\"\n\nexport const rootReducer = combineReducers(\n  {\n    recipe: RecipeReducer.getReducer\n  }\n)\n\nexport type RootState = ReturnType<typeof rootReducer>","import { combineEpics, StateObservable, ofType, Epic } from \"redux-observable\";\nimport { Observable } from \"rxjs\";\nimport { mergeMap } from 'rxjs/operators'\nimport { Action } from \"../../models/Action\";\nimport { RecipeUtils } from \"../../utils/RecipeUtils\";\nimport { RootState } from \"../RootReducer\";\nimport { InitialiseCountryPageAction, LoadRecipeAction, RecipeActions } from \"./RecipeActions\";\nimport { RecipeActionCreators } from \"./RecipeActionCreators\";\nimport { RecipeActionType } from \"./RecipeActionType\";\nexport class RecipeEpics {\n\n  public static getEpics(): Epic {\n    return combineEpics(\n      this.fetchRecipePreviews,\n      this.fetchRecipe\n    )\n  }\n\n  public static fetchRecipePreviews(\n    action$: Observable<Action<RecipeActionType>>,\n    state: StateObservable<RootState>\n  ): Observable<RecipeActions> {\n    return action$.pipe(\n      ofType(RecipeActionType.INITIALISE_COUNTRY_PAGE),\n      mergeMap(async (action, index) => {\n        const recipeAction = action as InitialiseCountryPageAction\n        const recipePreviews = await RecipeUtils.getRecipePreviewsForCountry(recipeAction.payload)\n\n        return Promise.resolve(\n          RecipeActionCreators.setRecipePreviews(recipePreviews)\n        )\n      })\n    )\n  }\n\n  public static fetchRecipe(\n    action$: Observable<Action<RecipeActionType>>,\n    state: StateObservable<RootState>\n  ): Observable<RecipeActions> {\n    return action$.pipe(\n      ofType(RecipeActionType.LOAD_RECIPE),\n      mergeMap(async (action, index) => {\n        const recipeAction = action as LoadRecipeAction\n        const { recipeId, country} = recipeAction.payload\n        const recipe = await RecipeUtils.fetchRecipe(country, recipeId)\n\n        return Promise.resolve(\n          RecipeActionCreators.setRecipe(recipe)\n        )\n      })\n    )\n  }\n}","import { combineEpics } from \"redux-observable\"\nimport { RecipeEpics } from \"./recipe/RecipeEpics\"\n\nexport class RootEpic {\n\n  public static getCombinedEpic() {\n    return combineEpics(\n      RecipeEpics.getEpics()\n    )\n  }\n}","import { RootState, rootReducer } from \"./RootReducer\"\nimport { createStore, compose, applyMiddleware } from \"redux\"\nimport { createEpicMiddleware } from \"redux-observable\"\nimport { RootEpic } from './RootEpic';\nimport { RecipeReducer } from \"./recipe/RecipeReducer\";\n\nconst DEFAULT_STATE: RootState = {\n  recipe: RecipeReducer.RECIPE_INITIAL_STATE\n}\n\nfunction configureSiteStore(preloadedState: RootState) {\n  const middlewares = []\n  const epicMiddleware = createEpicMiddleware();\n  const epics = RootEpic.getCombinedEpic()\n  middlewares.push(epicMiddleware)\n\n  if (process.env.NODE_ENV === 'development') {\n    const { createLogger } = require('redux-logger');\n\n    middlewares.push(createLogger({\n      collapsed: true\n    }))\n  }\n  const enhancers = compose(applyMiddleware(...middlewares))\n\n  const store = createStore(rootReducer, preloadedState, enhancers)\n\n  epicMiddleware.run(epics)\n\n  return store\n}\n\nexport const store = configureSiteStore(DEFAULT_STATE)","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from \"react-redux\";\nimport { store } from './store/Store';\n\nReactDOM.render(\n  <Provider store={store}>\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}